{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {"url": "https://raw.githubusercontent.com/AlexL1410/3179/main/games_per_country.csv"},
    "title": "Player Count Per Game In Each Country",
    "description": "This is a stacked bar chart which shows the total number of players who play each game in each individual country",
    "height":700,
    "width":700,
    "params": [
      {
      "name": "Country_selection",
      "bind": {
      "input": "select",
      "options": [
      null,
      "Argentina",
      "Australia",
      "Austria",
      "Belgium",
      "Bosnia and Herzegovina",
      "Brazil",
      "Bulgaria",
      "Belarus",
      "Canada",
      "Taiwan",
      "Croatia",
      "Cuba",
      "Czech Republic",
      "Denmark",
      "Estonia",
      "Finland",
      "France",
      "Germany",
      "Gibraltar",
      "Greece",
      "Hong Kong",
      "Ireland",
      "Israel",
      "Italy",
      "Japan",
      "Kazakhstan",
      "Jordan",
      "Korea",
      "Lebanon",
      "Latvia",
      "Lithuania",
      "Macao",
      "Malaysia",
      "Mexico",
      "Netherlands",
      "Norway",
      "Pakistan",
      "Philippines",
      "Poland",
      "Romania",
      "Russian Federation",
      "Singapore",
      "Slovakia",
      "Vietnam",
      "Slovenia",
      "Spain",
      "Sweden",
      "Switzerland",
      "Thailand",
      "Turkey",
      "Ukraine",
      "Macedonia",
      "United Kingdom",
      "United States of America",
      "Uzbekistan"

      ],
      "labels":[
      "Show All",
      "Argentina",
      "Australia",
      "Austria",
      "Belgium",
      "Bosnia and Herzegovina",
      "Brazil",
      "Bulgaria",
      "Belarus",
      "Canada",
      "Taiwan",
      "Croatia",
      "Cuba",
      "Czech Republic",
      "Denmark",
      "Estonia",
      "Finland",
      "France",
      "Germany",
      "Gibraltar",
      "Greece",
      "Hong Kong",
      "Ireland",
      "Israel",
      "Italy",
      "Japan",
      "Kazakhstan",
      "Jordan",
      "Korea",
      "Lebanon",
      "Latvia",
      "Lithuania",
      "Macao",
      "Malaysia",
      "Mexico",
      "Netherlands",
      "Norway",
      "Pakistan",
      "Philippines",
      "Poland",
      "Romania",
      "Russian Federation",
      "Singapore",
      "Slovakia",
      "Vietnam",
      "Slovenia",
      "Spain",
      "Sweden",
      "Switzerland",
      "Thailand",
      "Turkey",
      "Ukraine",
      "Macedonia",
      "United Kingdom",
      "United States of America",
      "Uzbekistan"
      ],
      "name": "Country Selection: "
      }
      }
  ],     
  "transform": [
      {"filter": "Country_selection == null || datum.CountryName == Country_selection"}
  ],
    "mark": "bar",
    "encoding": {
      "x": {
        "field": "CountryName",
        "type": "nominal",
        "title": ""
      },
      "y": {
        "aggregate": "count",
        "type": "quantitative",
        "title": "Number of Players"
      },
      "color": {
        "field": "Game",
        "type": "nominal",
        "scale": {
          "domain": ["Counter-Strike: Global Offensive", "Dota 2", "League of Legends", "Fortnite", "Overwatch","Starcraft II","Heroes of the Storm","PUBG","Arena of Valor","Hearthstone"]
        },
        "title": "Game Title"
        },
        "tooltip": [
          {"field": "CountryName", "type": "nominal", "title": "Country Name"},
          {"field": "Game", "type":"nominal", "title": "Game"},
          {"aggregate":"count","field": "Game","type":"quantitative", "title":"Number of Players"}
          ]
    }
  }
